---
id: get_data_item_with_default
title: get_data_item_with_default
sidebar_label: get_data_item_with_default
slug: /apis/utilities/get_data_item_with_default
description: 按照唯一ID获取一个标记数据项，同时提供一个未命中时的默认值。
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import vsiCheckIcon from "@iconify-icons/codicon/check";

import InlineIcon from "@site/src/components/InlineIcon";
import APITopBar, {IconObjType} from "@site/src/components/APITopBar";

<APITopBar type="func" source="utilities.get_data_item_with_default" />

```python
item: AnnoItem | T = get_data_item_with_default(
    data: Annotations | [AnnoItem],
    id: str,
    default: T = None,
)
```

按照唯一ID获取一个标记数据项，同时提供一个未命中时的默认值。

注意，该方法不会验证数据`data`的格式。若无法从中找到所需数据项，返回默认值。

## 别名 {#aliases}

该函数可以按以下方式之一获取

```python
import dash_picture_annotation as dpa


dpa.get_data_item_with_default
dpa.utilities.get_data_item_with_default
```

## 参数 {#arguments}

### 输入 {#requires}

|   参数    |                                                    类型                                                     |               必选                | <center>说明</center>         |
| :-------: | :---------------------------------------------------------------------------------------------------------: | :-------------------------------: | ----------------------------- |
|  `data`   | <code>[Annotations](../typehints/Annotations.mdx){` \| [`}[AnnoItem](../typehints/AnnoItem.mdx){"]"}</code> | <InlineIcon icon={vsiCheckIcon}/> | 要检索的标记数据。            |
|   `id`    |                                                    `str`                                                    | <InlineIcon icon={vsiCheckIcon}/> | 需要查询的标记数据项ID。       |
| `default` |                                                     `T`                                                     |                                   | 若数据中未找到ID，返回该值。 |

### 输出 {#returns}

|  参数  |                            类型                             | <center>说明</center>                            |
| :----: | :---------------------------------------------------------: | :----------------------------------------------- |
| `item` | <code>[AnnoItem](../typehints/AnnoItem.mdx){` \| T`}</code> | 检索到的标记数据项，或使用本方法时提供的默认值。 |

## 范例 {#examples}

### <IconObjType type="term"/> 获取标记数据项时提供默认值 {#-get-an-annotation-with-a-default-value}

<Tabs
  defaultValue="codes"
  values={[
    { label: '代码', value: 'codes', },
    { label: '结果', value: 'results', },
  ]
}>

<TabItem value="codes">

```python title="get_anno_item_by_id_with_default.py" showLineNumbers
import pprint
import dash_picture_annotation as dpa


data = [
    {"id": "a", "mark": {"x": 0, "y": 0, "width": 0, "height": 0, "type": "RECT"}},
    {"id": "b", "mark": {"x": 0, "y": 0, "width": 0, "height": 0, "type": "RECT"}},
    {"id": "c", "mark": {"x": 0, "y": 0, "width": 0, "height": 0, "type": "RECT"}},
    {"id": "c", "mark": {"x": 1, "y": 1, "width": 0, "height": 0, "type": "RECT"}},
]

data_wrapped = {"timestamp": 0, "data": data}

pprint.pprint(dpa.get_data_item_with_default(data, "a"))
pprint.pprint(dpa.get_data_item_with_default(data_wrapped, "a"))
pprint.pprint(dpa.get_data_item_with_default(data, "c"))
pprint.pprint(dpa.get_data_item_with_default(data_wrapped, "c"))
pprint.pprint(dpa.get_data_item_with_default(data, "d"))
pprint.pprint(dpa.get_data_item_with_default(data, "d", 0))
```

</TabItem>

<TabItem value="results">

```python
{'id': 'a', 'mark': {'height': 0, 'type': 'RECT', 'width': 0, 'x': 0, 'y': 0}}
{'id': 'a', 'mark': {'height': 0, 'type': 'RECT', 'width': 0, 'x': 0, 'y': 0}}
{'id': 'c', 'mark': {'height': 0, 'type': 'RECT', 'width': 0, 'x': 0, 'y': 0}}
{'id': 'c', 'mark': {'height': 0, 'type': 'RECT', 'width': 0, 'x': 0, 'y': 0}}
None
0
```

</TabItem>

</Tabs>
