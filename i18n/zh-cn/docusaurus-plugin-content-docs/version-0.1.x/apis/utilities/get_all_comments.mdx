---
id: get_all_comments
title: get_all_comments
sidebar_label: get_all_comments
slug: /apis/utilities/get_all_comments
description: 获得一组标记数据中的全部文字标注集合。返回的文字标注未排序。
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

import vsiCheckIcon from "@iconify-icons/codicon/check";

import InlineIcon from "@site/src/components/InlineIcon";
import APITopBar, {IconObjType} from "@site/src/components/APITopBar";

<APITopBar type="func" source="utilities.get_all_comments" />

```python
comments: {str} = get_all_comments(data: Annotations | [AnnoItem])
```

获得一组标记数据中的全部文字标注集合。返回的文字标注未排序。

## 别名 {#aliases}

该函数可以按以下方式之一获取

```python
import dash_picture_annotation as dpa


dpa.get_all_comments
dpa.utilities.get_all_comments
```

## 参数 {#arguments}

### 输入 {#requires}

|  参数  |                                                    类型                                                     |               必选                | <center>说明</center> |
| :----: | :---------------------------------------------------------------------------------------------------------: | :-------------------------------: | --------------------- |
| `data` | <code>[Annotations](../typehints/Annotations.mdx){` \| [`}[AnnoItem](../typehints/AnnoItem.mdx){"]"}</code> | <InlineIcon icon={vsiCheckIcon}/> | 要检索的标记数据。    |

### 输出 {#returns}

|    参数    |  类型   | <center>说明</center>                                                                              |
| :--------: | :-----: | :------------------------------------------------------------------------------------------------- |
| `comments` | `{str}` | 在所检查的标记数据中，由所有出现过的文字标注构成的未排序集合。若数据不包含任何文字标注，返回空集。 |

## 范例 {#examples}

### <IconObjType type="term"/> 获得数据中的所有文字标注 {#-get-all-comments-of-the-data}

<Tabs
  defaultValue="codes"
  values={[
    { label: '代码', value: 'codes', },
    { label: '结果', value: 'results', },
  ]
}>

<TabItem value="codes">

```python title="get_comments_from_anno.py" showLineNumbers
import pprint
import dash_picture_annotation as dpa


mark = lambda pos: {"x": pos, "y": pos, "width": 0, "height": 0, "type": "RECT"}

data = [
    {"id": "a", "mark": mark(0)},
    {"id": "b", "mark": mark(1)},
    {"id": "c", "mark": mark(2), "comment": "type-1"},
    {"id": "d", "mark": mark(3), "comment": "type-2"},
    {"id": "d", "mark": mark(4), "comment": "type-2"},
]

data_wrapped = {"timestamp": 0, "data": data}

pprint.pprint(dpa.get_all_comments(data))
pprint.pprint(dpa.get_all_comments(data_wrapped))
```

</TabItem>

<TabItem value="results">

```python
frozenset({'type-1', 'type-2'})
frozenset({'type-1', 'type-2'})
```

</TabItem>

</Tabs>
